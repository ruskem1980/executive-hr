Партнер, выполняю правило. Поскольку мы кардинально изменили архитектуру (разделение на фронтенд/бэкенд) и внедрили локальные нейросети для голоса и слуха, старый файл v3.0 устарел.
Вот обновленный Технический Протокол (v4.0). В нем зафиксированы все последние изменения: faster-whisper (с VAD), pyttsx3, разделение файлов и гибридный движок.
Сохрани этот текст как AXIOMA_TECH_STACK_v4.md.
________________
🛠 AXIOMA: TECHNICAL DEPLOYMENT PROTOCOL (v4.0)
Версия: 4.0 (Hybrid / Split Architecture)
Дата обновления: Текущая
Статус: Production Ready
________________
1. АРХИТЕКТУРА ПРИЛОЖЕНИЯ
Система переведена на модульную архитектуру для стабильности и безопасности.
📂 ФАЙЛОВАЯ СТРУКТУРА
Проект должен находиться в одной папке и состоять из следующих файлов:
1. a.py (Frontend / Interface):
   * Отвечает только за визуализацию (Streamlit).
   * Содержит кнопки, слайдеры и логику отображения.
   * Импортирует логику из s.py.
2. s.py (Backend / System):
   * "Мозг": Хранит системные промпты и методологию.
   * "Слух": Содержит функцию transcribe_local (Faster-Whisper + VAD).
   * "Голос": Содержит функцию generate_voice (Pyttsx3 / OpenAI).
   * "Настройки": Словари переводов и конфигурация моделей.
3. requirements.txt: Список библиотек.
________________
2. СИСТЕМНОЕ ОКРУЖЕНИЕ (OS LEVEL)
Перед установкой Python-библиотек убедитесь, что операционная система готова1.


A. Операционная система
* Поддерживается: Windows 10/11, macOS (M1/M2/Intel), Linux (Ubuntu 20.04+)2.

B. Python
   * Версия: Строго 3.9 или выше3.

C. FFmpeg (Критически важно)
Необходим для работы faster-whisper и обработки аудио4. Без него бот выдаст ошибку при загрузке MP3/WAV.


      * Windows: winget install Gyan.FFmpeg (или скачать exe и добавить в PATH).
      * macOS: brew install ffmpeg.
      * Linux: sudo apt install ffmpeg.
________________
3. БИБЛИОТЕКИ PYTHON (DEPENDENCIES)
Мы отказались от тяжелых зависимостей в пользу оптимизированных локальных решений.
📜 Полный список (requirements.txt)
Скопируйте это в файл или используйте для проверки:


Plaintext




streamlit>=1.30.0
openai>=1.10.0
pandas>=2.0.0
numpy>=1.24.0
pypdf>=4.0.0
python-docx>=1.0.0
faster-whisper>=1.0.0
pyttsx3>=2.90
openpyxl>=3.1.0
watchdog>=4.0.0

🧠 Назначение библиотек:
Библиотека
	Зачем нужна в AXIOMA v4.0
	streamlit
	Веб-интерфейс (Frontend)5.


	openai
	Клиент для доступа к GPT-4o (Cloud Mode) и Ollama (Local Mode)6.


	faster-whisper
	[NEW] Локальное распознавание речи. В 4x быстрее обычного Whisper. Включает Silero VAD.
	pyttsx3
	[NEW] Локальный синтез речи (TTS). Работает офлайн без API OpenAI.
	pandas
	Аналитика и таблицы для "Матрицы Решений"7.


	pypdf
	Чтение резюме в формате PDF8.


	python-docx
	Чтение резюме в формате DOCX9.


	________________
4. ИНСТРУКЦИЯ ПО УСТАНОВКЕ (INSTALLATION)
Выполните эти команды в терминале (командной строке) по очереди.
Шаг 1. Установка библиотек


Bash




pip install streamlit openai pandas numpy pypdf python-docx faster-whisper pyttsx3 openpyxl watchdog

Шаг 2. Настройка локального ИИ (Ollama)
Если вы планируете использовать бесплатный режим "Бункер":
      1. Скачайте Ollama с официального сайта.
      2. Загрузите модель Qwen (согласно спецификации 10):

Bash
ollama run qwen2.5:14b

(Или qwen3:8b, если машина слабая).
Шаг 3. Запуск системы
Перейдите в папку с проектом и запустите интерфейсный файл:


Bash




streamlit run a.py

________________
5. КОНФИГУРАЦИЯ "БУНКЕРА" (OFFLINE MODE)
В версии v4.0 система может работать полностью без интернета:
         1. Текст: Обрабатывается локальной LLM (Ollama).
         2. Слух: Обрабатывается faster-whisper (модель скачивается 1 раз при первом запуске).
         * Настройка VAD: Включена по умолчанию (min_silence=500ms) для удаления тишины.
         3. Голос: Обрабатывается драйвером ОС через pyttsx3.
________________
Документ обновлен и готов к передаче техническим специалистам.